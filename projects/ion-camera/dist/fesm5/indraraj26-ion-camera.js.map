{"version":3,"file":"indraraj26-ion-camera.js","sources":["ng://@indraraj26/ion-camera/src/ion-camera.service.ts","ng://@indraraj26/ion-camera/src/ion-camera.directive.ts","ng://@indraraj26/ion-camera/src/ion-camera.module.ts","ng://@indraraj26/ion-camera/public-api.ts","ng://@indraraj26/ion-camera/indraraj26-ion-camera.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Camera } from '@ionic-native/camera/ngx';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\nimport { IConfig } from './config.interface';\r\nimport { Injectable } from '@angular/core';\r\n@Injectable()\r\nexport class IonCameraService {\r\n\tconstructor(\r\n\t\tprivate _httpClient: HttpClient,\r\n\t\tprivate _camera: Camera,\r\n\t\tprivate _webview: WebView,\r\n\t) {}\r\n\r\n\tasync cameraAction(option: IConfig) {\r\n\t\ttry {\r\n\t\t\tconst result = await this._camera.getPicture(option);\r\n\t\t\tif (option.destinationType === 1) {\r\n\t\t\t\tconst blobUrl = this._webview.convertFileSrc(result);\r\n\t\t\t\tconst blob = (await fetch(blobUrl).then((r) =>\r\n\t\t\t\t\tr.blob(),\r\n\t\t\t\t)) as Blob;\r\n\t\t\t\treturn { result: blob, filePath: blobUrl };\r\n\t\t\t}\r\n\t\t\treturn { result };\r\n\t\t} catch (e) {\r\n\t\t\tif (e === 'No Image Selected') {\r\n\t\t\t\treturn e;\r\n\t\t\t}\r\n\t\t\treturn 'no-permission';\r\n\t\t}\r\n\t}\r\n}\r\n","import {\r\n\tDirective,\r\n\tHostListener,\r\n\tInput,\r\n\tOutput,\r\n\tEventEmitter,\r\n} from '@angular/core';\r\nimport { IConfig } from './config.interface';\r\nimport { IonCameraService } from './ion-camera.service';\r\n\r\n@Directive({\r\n\tselector: '[appIonCamera]',\r\n})\r\nexport class IonCameraDirective {\r\n\t@Input('appIonCamera') config: IConfig;\r\n\t@Output() cameraResult: EventEmitter<any> = new EventEmitter();\r\n\r\n\t@HostListener('click', ['$event']) onCameraElementClicked(event: Event) {\r\n\t\t// File URI\r\n\t\tif (this.config.destinationType === 1) {\r\n\t\t\tthis.getCameraData(this.config);\r\n\t\t\t// Data URL\r\n\t\t} else if (this.config.destinationType === 0) {\r\n\t\t\tthis.getCameraData(this.config);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'This method is not yet implmented! either use DATA_URL(0) or FILE_URI(1)',\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(private _ionCameraService: IonCameraService) {}\r\n\r\n\tasync getCameraData(option: IConfig) {\r\n\t\tconst result = await this._ionCameraService.cameraAction(option);\r\n\t\tthis.cameraResult.emit(result);\r\n\t}\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { IonCameraDirective } from './ion-camera.directive';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\nimport { HttpClientModule } from '@angular/common/http';\nimport { IonCameraService } from './ion-camera.service';\n\n@NgModule({\n\tdeclarations: [IonCameraDirective],\n\timports: [HttpClientModule],\n\texports: [IonCameraDirective],\n\tproviders: [Camera, WebView],\n})\nexport class IonCameraModule {\n\tpublic static forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: IonCameraModule,\n\t\t\tproviders: [IonCameraService],\n\t\t};\n\t}\n}\n","/*\n * Public API Surface of ion-camera\n */\n\nexport * from './src/ion-camera.directive';\nexport * from './src/ion-camera.service';\nexport * from './src/ion-camera.module';\nexport * from './src/config.interface';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;IAOC,0BACS,WAAuB,EACvB,OAAe,EACf,QAAiB;QAFjB,gBAAW,GAAX,WAAW,CAAY;QACvB,YAAO,GAAP,OAAO,CAAQ;QACf,aAAQ,GAAR,QAAQ,CAAS;KACtB;IAEE,uCAAY,GAAlB,UAAmB,MAAe;;;;;;;wBAEjB,qBAAM,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,EAAA;;wBAA9C,MAAM,GAAG,SAAqC;8BAChD,MAAM,CAAC,eAAe,KAAK,CAAC,CAAA,EAA5B,wBAA4B;wBACzB,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;wBACvC,qBAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;gCACzC,OAAA,CAAC,CAAC,IAAI,EAAE;6BAAA,CACR,EAAA;;wBAFK,IAAI,IAAI,SAEb,CAAS;wBACV,sBAAO,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAC;4BAE5C,sBAAO,EAAE,MAAM,QAAA,EAAE,EAAC;;;wBAElB,IAAI,GAAC,KAAK,mBAAmB,EAAE;4BAC9B,sBAAO,GAAC,EAAC;yBACT;wBACD,sBAAO,eAAe,EAAC;;;;;KAExB;;gBAtBqB,UAAU;gBACd,MAAM;gBACL,OAAO;;IAJd,gBAAgB;QAD5B,UAAU,EAAE;OACA,gBAAgB,CAyB5B;IAAD,uBAAC;CAzBD;;;ICyBC,4BAAoB,iBAAmC;QAAnC,sBAAiB,GAAjB,iBAAiB,CAAkB;QAhB7C,iBAAY,GAAsB,IAAI,YAAY,EAAE,CAAC;KAgBJ;IAdxB,mDAAsB,GAAtB,UAAuB,KAAY;;QAErE,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,KAAK,CAAC,EAAE;YACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;SAEhC;aAAM,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,KAAK,CAAC,EAAE;YAC7C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAChC;aAAM;YACN,MAAM,IAAI,KAAK,CACd,0EAA0E,CAC1E,CAAC;SACF;KACD;IAIK,0CAAa,GAAnB,UAAoB,MAAe;;;;;4BACnB,qBAAM,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,MAAM,CAAC,EAAA;;wBAA1D,MAAM,GAAG,SAAiD;wBAChE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;KAC/B;;gBALsC,gBAAgB;;IAjBhC;QAAtB,KAAK,CAAC,cAAc,CAAC;sDAAiB;IAC7B;QAAT,MAAM,EAAE;4DAAsD;IAE5B;QAAlC,YAAY,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC;oEAYjC;IAhBW,kBAAkB;QAH9B,SAAS,CAAC;YACV,QAAQ,EAAE,gBAAgB;SAC1B,CAAC;OACW,kBAAkB,CAwB9B;IAAD,yBAAC;CAxBD;;;ICAA;KAOC;wBAPY,eAAe;IACb,uBAAO,GAArB;QACC,OAAO;YACN,QAAQ,EAAE,iBAAe;YACzB,SAAS,EAAE,CAAC,gBAAgB,CAAC;SAC7B,CAAC;KACF;;IANW,eAAe;QAN3B,QAAQ,CAAC;YACT,YAAY,EAAE,CAAC,kBAAkB,CAAC;YAClC,OAAO,EAAE,CAAC,gBAAgB,CAAC;YAC3B,OAAO,EAAE,CAAC,kBAAkB,CAAC;YAC7B,SAAS,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC;SAC5B,CAAC;OACW,eAAe,CAO3B;IAAD,sBAAC;CAPD;;ACbA;;;;ACAA;;;;;;"}