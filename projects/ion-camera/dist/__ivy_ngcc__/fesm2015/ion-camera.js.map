{"version":3,"file":"ion-camera.js","sources":["ng:/ion-camera/src/ion-camera.directive.ts","ng:/ion-camera/src/ion-camera.module.ts","ng:/ion-camera/public-api.ts","ng:/ion-camera/ion-camera.ts"],"names":[],"mappings":";;;;;;;;IAca,kBAAkB,GAA/B,MAAa,kBAAkB;AAC/B,IAqBC,YAAoB,OAAe,EAAU,QAAiB;AAAI,QAA9C,YAAO,GAAP,OAAO,CAAQ;AAAC,QAAS,aAAQ,GAAR,QAAQ,CAAS;AAAC,QApBrD,iBAAY,GAAsB,IAAI,YAAY,EAAE,CAAC;AAChE,KAmBmE;AACnE,IAnBoC,sBAAsB,CAAC,KAAY;AACvE,QAAE,IACC,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,MAAM;AACtC,YAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,QAAQ,EACpC;AACJ,YAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAClC,SAAG;AAAC,aAAK,IACN,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,QAAQ;AACxC,YAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,QAAQ,EACpC;AACJ,YAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAClC,SAAG;AAAC,aAAK;AACT,YAAG,MAAM,IAAI,KAAK,CACd,oEAAoE,CACpE,CAAC;AACL,SAAG;AACH,KAAE;AACF,IAGe,YAAY,CAAC,MAAe;AAC3C;AACsD,YADpD,IAAI;AACN,gBAAG,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;AACxD,gBAAG,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,MAAM,EAAE;AAC5C,oBAAI,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AACzD,oBAAI,MAAM,IAAI,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;AAC5D,oBAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACjC,iBAAI;AAAC,qBAAK;AACV,oBAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACnC,iBAAI;AACJ,aAAG;AAAC,YAAA,OAAO,CAAC,EAAE;AACd,gBAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAClB,aAAG;AACH,SAAE;AAEF,KAFE;AACF;;;;oFAAC;AACD;AAA4C,YAjBd,MAAM;AAAI,YAAgB,OAAO;AAAG;AArBxD;AAAa,IAArB,KAAK,EAAE;AAAC,kDAAgB;AACf;AAAa,IAAtB,MAAM,EAAE;AAAC,wDAAqD;AAE5B;AAAa,IAA/C,YAAY,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC;AAAC,gEAgBlC,CAmBF;AAvCa,AAuCZ;iBAvC8B,oBAH9B,rCA0CC,IC1CW,eAAe,GAA5B,MAAa,eAAe;ADAlB,CAAC,DCAoB,EAAA;QDC9B,QAAQ,EAAE,gBAAgB,OAC1B,CAAC,IACW,kBAAkB,CAsC9B,jECzCY,eAAe,oBAN3B,QAAQ,CAAC,UACT,YAAY,EAAE,CAAC;YAAkB,CAAC,UAClC,OAAO,EAAE,EAAE,UACX,OAAO,EAAE,CAAC,kBAAkB,CAAC,UAC7B,SAAS,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,OAC5B,CAAC,IACW,eAAe,CAAG;;;;;;;;;;;;;;;;;;;;;;;0BAC/B;AAAC;ACZD;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACkB","sourcesContent":["import {\r\n\tDirective,\r\n\tHostListener,\r\n\tInput,\r\n\tOutput,\r\n\tEventEmitter,\r\n} from '@angular/core';\r\nimport { Camera } from '@ionic-native/camera/ngx';\r\nimport { IConfig } from './config.interface';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\n\r\n@Directive({\r\n\tselector: '[appIonCamera]',\r\n})\r\nexport class IonCameraDirective {\r\n\t@Input() config: IConfig;\r\n\t@Output() cameraResult: EventEmitter<any> = new EventEmitter();\r\n\r\n\t@HostListener('click', ['$event']) onCameraElementClicked(event: Event) {\r\n\t\tif (\r\n\t\t\tthis.config.outputResult === 'blob' &&\r\n\t\t\tthis._camera.DestinationType.FILE_URI\r\n\t\t) {\r\n\t\t\tthis.cameraAction(this.config);\r\n\t\t} else if (\r\n\t\t\tthis.config.outputResult === 'base64' &&\r\n\t\t\tthis._camera.DestinationType.DATA_URL\r\n\t\t) {\r\n\t\t\tthis.cameraAction(this.config);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\r\n\t\t\t\t'This method is not yet implmented! either use DATA_URL or FILE_URI',\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(private _camera: Camera, private _webview: WebView) {}\r\n\r\n\tprivate async cameraAction(option: IConfig) {\r\n\t\ttry {\r\n\t\t\tconst result = await this._camera.getPicture(option);\r\n\t\t\tif (this.config.outputResult === 'blob') {\r\n\t\t\t\tconst blobUrl = this._webview.convertFileSrc(result);\r\n\t\t\t\tconst blob = await fetch(blobUrl).then((r) => r.blob());\r\n\t\t\t\tthis.cameraResult.emit(blob);\r\n\t\t\t} else {\r\n\t\t\t\tthis.cameraResult.emit(result);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { IonCameraDirective } from './ion-camera.directive';\nimport { Camera } from '@ionic-native/camera/ngx';\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\n\n@NgModule({\n\tdeclarations: [IonCameraDirective],\n\timports: [],\n\texports: [IonCameraDirective],\n\tproviders: [Camera, WebView],\n})\nexport class IonCameraModule {}\n","/*\n * Public API Surface of ion-camera\n */\n\nexport * from './src/ion-camera.directive';\nexport * from './src/ion-camera.module';\nexport * from './src/config.interface';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}